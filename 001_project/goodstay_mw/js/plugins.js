var Swiper=function(selector,params){if(document.body.__defineGetter__){if(HTMLElement){var element=HTMLElement.prototype;if(element.__defineGetter__){element.__defineGetter__("outerHTML",function(){return new XMLSerializer().serializeToString(this);});}}}
if(!window.getComputedStyle){window.getComputedStyle=function(el,pseudo){this.el=el;this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;if(prop==='float')prop='styleFloat';if(re.test(prop)){prop=prop.replace(re,function(){return arguments[2].toUpperCase();});}
return el.currentStyle[prop]?el.currentStyle[prop]:null;}
return this;}}
if(!Array.prototype.indexOf){Array.prototype.indexOf=function(obj,start){for(var i=(start||0),j=this.length;i<j;i++){if(this[i]===obj){return i;}}
return-1;}}
if(!document.querySelectorAll){if(!window.jQuery)return;}
function $$(selector,context){if(document.querySelectorAll)
return(context||document).querySelectorAll(selector);else
return jQuery(selector,context);}
if(typeof selector==='undefined')return;if(!(selector.nodeType)){if($$(selector).length===0)return;}
var _this=this;_this.touches={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,diff:0,abs:0};_this.positions={start:0,abs:0,diff:0,current:0};_this.times={start:0,end:0};_this.id=(new Date()).getTime();_this.container=(selector.nodeType)?selector:$$(selector)[0];_this.isTouched=false;_this.isMoved=false;_this.activeIndex=0;_this.centerIndex=0;_this.activeLoaderIndex=0;_this.activeLoopIndex=0;_this.previousIndex=null;_this.velocity=0;_this.snapGrid=[];_this.slidesGrid=[];_this.imagesToLoad=[];_this.imagesLoaded=0;_this.wrapperLeft=0;_this.wrapperRight=0;_this.wrapperTop=0;_this.wrapperBottom=0;var wrapper,slideSize,wrapperSize,direction,isScrolling,containerSize;var defaults={eventTarget:'wrapper',mode:'horizontal',touchRatio:1,speed:300,freeMode:false,freeModeFluid:false,momentumRatio:1,momentumBounce:true,momentumBounceRatio:1,slidesPerView:1,slidesPerGroup:1,simulateTouch:true,followFinger:true,shortSwipes:true,moveStartThreshold:false,onlyExternal:false,createPagination:true,pagination:false,paginationElement:'span',paginationClickable:false,paginationAsRange:true,resistance:true,scrollContainer:false,preventLinks:true,noSwiping:false,noSwipingClass:'swiper-no-swiping',initialSlide:0,keyboardControl:false,mousewheelControl:false,mousewheelControlForceToAxis:false,useCSS3Transforms:true,autoplay:false,autoplayDisableOnInteraction:true,loop:false,loopAdditionalSlides:0,calculateHeight:false,cssWidthAndHeight:false,updateOnImagesReady:true,releaseFormElements:true,watchActiveIndex:false,visibilityFullFit:false,offsetPxBefore:0,offsetPxAfter:0,offsetSlidesBefore:0,offsetSlidesAfter:0,centeredSlides:false,queueStartCallbacks:false,queueEndCallbacks:false,autoResize:true,resizeReInit:false,DOMAnimation:true,loader:{slides:[],slidesHTMLType:'inner',surroundGroups:1,logic:'reload',loadAllSlides:false},slideElement:'div',slideClass:'swiper-slide',slideActiveClass:'swiper-slide-active',slideVisibleClass:'swiper-slide-visible',wrapperClass:'swiper-wrapper',paginationElementClass:'swiper-pagination-switch',paginationActiveClass:'swiper-active-switch',paginationVisibleClass:'swiper-visible-switch'}
params=params||{};for(var prop in defaults){if(prop in params&&typeof params[prop]==='object'){for(var subProp in defaults[prop]){if(!(subProp in params[prop])){params[prop][subProp]=defaults[prop][subProp];}}}
else if(!(prop in params)){params[prop]=defaults[prop]}}
_this.params=params;if(params.scrollContainer){params.freeMode=true;params.freeModeFluid=true;}
if(params.loop){params.resistance='100%';}
var isH=params.mode==='horizontal';var desktopEvents=['mousedown','mousemove','mouseup'];if(_this.browser.ie10)desktopEvents=['MSPointerDown','MSPointerMove','MSPointerUp'];if(_this.browser.ie11)desktopEvents=['pointerdown','pointermove','pointerup'];_this.touchEvents={touchStart:_this.support.touch||!params.simulateTouch?'touchstart':desktopEvents[0],touchMove:_this.support.touch||!params.simulateTouch?'touchmove':desktopEvents[1],touchEnd:_this.support.touch||!params.simulateTouch?'touchend':desktopEvents[2]};for(var i=_this.container.childNodes.length- 1;i>=0;i--){if(_this.container.childNodes[i].className){var _wrapperClasses=_this.container.childNodes[i].className.split(' ')
for(var j=0;j<_wrapperClasses.length;j++){if(_wrapperClasses[j]===params.wrapperClass){wrapper=_this.container.childNodes[i];}};}};_this.wrapper=wrapper;_this._extendSwiperSlide=function(el){el.append=function(){if(params.loop){el.insertAfter(_this.slides.length-_this.loopedSlides);_this.removeLoopedSlides();_this.calcSlides();_this.createLoop();}
else{_this.wrapper.appendChild(el);}
_this.reInit();return el;}
el.prepend=function(){if(params.loop){_this.wrapper.insertBefore(el,_this.slides[_this.loopedSlides]);_this.removeLoopedSlides();_this.calcSlides();_this.createLoop();}
else{_this.wrapper.insertBefore(el,_this.wrapper.firstChild);}
_this.reInit();return el;}
el.insertAfter=function(index){if(typeof index==='undefined')return false;var beforeSlide;if(params.loop){beforeSlide=_this.slides[index+ 1+ _this.loopedSlides];_this.wrapper.insertBefore(el,beforeSlide);_this.removeLoopedSlides();_this.calcSlides();_this.createLoop();}
else{beforeSlide=_this.slides[index+ 1];_this.wrapper.insertBefore(el,beforeSlide)}
_this.reInit();return el;}
el.clone=function(){return _this._extendSwiperSlide(el.cloneNode(true))}
el.remove=function(){_this.wrapper.removeChild(el);_this.reInit();}
el.html=function(html){if(typeof html==='undefined'){return el.innerHTML;}
else{el.innerHTML=html;return el;}}
el.index=function(){var index;for(var i=_this.slides.length- 1;i>=0;i--){if(el===_this.slides[i])index=i;}
return index;}
el.isActive=function(){if(el.index()===_this.activeIndex)return true;else return false;}
if(!el.swiperSlideDataStorage)el.swiperSlideDataStorage={};el.getData=function(name){return el.swiperSlideDataStorage[name];}
el.setData=function(name,value){el.swiperSlideDataStorage[name]=value;return el;}
el.data=function(name,value){if(!value){return el.getAttribute('data-'+name);}
else{el.setAttribute('data-'+name,value);return el;}}
el.getWidth=function(outer){return _this.h.getWidth(el,outer);}
el.getHeight=function(outer){return _this.h.getHeight(el,outer);}
el.getOffset=function(){return _this.h.getOffset(el);}
return el;}
_this.calcSlides=function(forceCalcSlides){var oldNumber=_this.slides?_this.slides.length:false;_this.slides=[];_this.displaySlides=[];for(var i=0;i<_this.wrapper.childNodes.length;i++){if(_this.wrapper.childNodes[i].className){var _className=_this.wrapper.childNodes[i].className;var _slideClasses=_className.split(' ');for(var j=0;j<_slideClasses.length;j++){if(_slideClasses[j]===params.slideClass){_this.slides.push(_this.wrapper.childNodes[i]);}}}}
for(i=_this.slides.length- 1;i>=0;i--){_this._extendSwiperSlide(_this.slides[i]);}
if(oldNumber===false)return;if(oldNumber!==_this.slides.length||forceCalcSlides){removeSlideEvents();addSlideEvents();_this.updateActiveSlide();if(_this.params.pagination)_this.createPagination();_this.callPlugins('numberOfSlidesChanged');}}
_this.createSlide=function(html,slideClassList,el){var slideClassList=slideClassList||_this.params.slideClass;var el=el||params.slideElement;var newSlide=document.createElement(el);newSlide.innerHTML=html||'';newSlide.className=slideClassList;return _this._extendSwiperSlide(newSlide);}
_this.appendSlide=function(html,slideClassList,el){if(!html)return;if(html.nodeType){return _this._extendSwiperSlide(html).append()}
else{return _this.createSlide(html,slideClassList,el).append()}}
_this.prependSlide=function(html,slideClassList,el){if(!html)return;if(html.nodeType){return _this._extendSwiperSlide(html).prepend()}
else{return _this.createSlide(html,slideClassList,el).prepend()}}
_this.insertSlideAfter=function(index,html,slideClassList,el){if(typeof index==='undefined')return false;if(html.nodeType){return _this._extendSwiperSlide(html).insertAfter(index);}
else{return _this.createSlide(html,slideClassList,el).insertAfter(index);}}
_this.removeSlide=function(index){if(_this.slides[index]){if(params.loop){if(!_this.slides[index+_this.loopedSlides])return false;_this.slides[index+_this.loopedSlides].remove();_this.removeLoopedSlides();_this.calcSlides();_this.createLoop();}
else _this.slides[index].remove();return true;}
else return false;}
_this.removeLastSlide=function(){if(_this.slides.length>0){if(params.loop){_this.slides[_this.slides.length- 1- _this.loopedSlides].remove();_this.removeLoopedSlides();_this.calcSlides();_this.createLoop();}
else _this.slides[(_this.slides.length-1)].remove();return true;}
else{return false;}}
_this.removeAllSlides=function(){for(var i=_this.slides.length- 1;i>=0;i--){_this.slides[i].remove()}}
_this.getSlide=function(index){return _this.slides[index]}
_this.getLastSlide=function(){return _this.slides[_this.slides.length-1]}
_this.getFirstSlide=function(){return _this.slides[0]}
_this.activeSlide=function(){return _this.slides[_this.activeIndex]}
_this.fireCallback=function(){var callback=arguments[0];if(Object.prototype.toString.call(callback)==='[object Array]'){for(var i=0;i<callback.length;i++){if(typeof callback[i]==='function'){callback[i](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}}else{callback(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);}}
function isArray(obj){"use strict";if(Object.prototype.toString.apply(obj)==='[object Array]')return true;return false;}
_this.addCallback=function(callback,func){"use strict";var _this=this,tempFunc;if(_this.params['on'+ callback]){if(isArray(this.params['on'+ callback])){return this.params['on'+ callback].push(func);}else if(typeof this.params['on'+ callback]==='function'){tempFunc=this.params['on'+ callback];this.params['on'+ callback]=[];this.params['on'+ callback].push(tempFunc);return this.params['on'+ callback].push(func);}}else{this.params['on'+ callback]=[];return this.params['on'+ callback].push(func);}}
_this.removeCallbacks=function(callback){if(_this.params['on'+ callback]){return _this.params['on'+ callback]=null;}}
var _plugins=[];for(var plugin in _this.plugins){if(params[plugin]){var p=_this.plugins[plugin](_this,params[plugin]);if(p)_plugins.push(p);}}
_this.callPlugins=function(method,args){if(!args)args={}
for(var i=0;i<_plugins.length;i++){if(method in _plugins[i]){_plugins[i][method](args);}}}
if((_this.browser.ie10||_this.browser.ie11)&&!params.onlyExternal){_this.wrapper.classList.add('swiper-wp8-'+(isH?'horizontal':'vertical'));}
if(params.freeMode){_this.container.className+=' swiper-free-mode';}
_this.initialized=false;_this.init=function(force,forceCalcSlides){var _width=_this.h.getWidth(_this.container);var _height=_this.h.getHeight(_this.container);if(_width===_this.width&&_height===_this.height&&!force)return;_this.width=_width;_this.height=_height;containerSize=isH?_width:_height;var wrapper=_this.wrapper;if(force){_this.calcSlides(forceCalcSlides);}
if(params.slidesPerView==='auto'){var slidesWidth=0;var slidesHeight=0;if(params.slidesOffset>0){wrapper.style.paddingLeft='';wrapper.style.paddingRight='';wrapper.style.paddingTop='';wrapper.style.paddingBottom='';}
wrapper.style.width='';wrapper.style.height='';if(params.offsetPxBefore>0){if(isH)_this.wrapperLeft=params.offsetPxBefore;else _this.wrapperTop=params.offsetPxBefore;}
if(params.offsetPxAfter>0){if(isH)_this.wrapperRight=params.offsetPxAfter;else _this.wrapperBottom=params.offsetPxAfter;}
if(params.centeredSlides){if(isH){_this.wrapperLeft=(containerSize- this.slides[0].getWidth(true))/2;
_this.wrapperRight=(containerSize- _this.slides[_this.slides.length-1].getWidth(true))/2;
}
else{_this.wrapperTop=(containerSize- _this.slides[0].getHeight(true))/2;
_this.wrapperBottom=(containerSize- _this.slides[_this.slides.length-1].getHeight(true))/2;
}}
if(isH){if(_this.wrapperLeft>=0)wrapper.style.paddingLeft=_this.wrapperLeft+'px';if(_this.wrapperRight>=0)wrapper.style.paddingRight=_this.wrapperRight+'px';}
else{if(_this.wrapperTop>=0)wrapper.style.paddingTop=_this.wrapperTop+'px';if(_this.wrapperBottom>=0)wrapper.style.paddingBottom=_this.wrapperBottom+'px';}
var slideLeft=0;var centeredSlideLeft=0;_this.snapGrid=[];_this.slidesGrid=[];var slideMaxHeight=0;for(var i=0;i<_this.slides.length;i++){var slideWidth=_this.slides[i].getWidth(true);var slideHeight=_this.slides[i].getHeight(true);if(params.calculateHeight){slideMaxHeight=Math.max(slideMaxHeight,slideHeight)}
var _slideSize=isH?slideWidth:slideHeight;if(params.centeredSlides){var nextSlideWidth=i===_this.slides.length-1?0:_this.slides[i+1].getWidth(true);var nextSlideHeight=i===_this.slides.length-1?0:_this.slides[i+1].getHeight(true);var nextSlideSize=isH?nextSlideWidth:nextSlideHeight;if(_slideSize>containerSize){for(var j=0;j<=Math.floor(_slideSize/(containerSize+_this.wrapperLeft));j++){if(j===0)_this.snapGrid.push(slideLeft+_this.wrapperLeft);else _this.snapGrid.push(slideLeft+_this.wrapperLeft+containerSize*j);}
_this.slidesGrid.push(slideLeft+_this.wrapperLeft);}
else{_this.snapGrid.push(centeredSlideLeft);_this.slidesGrid.push(centeredSlideLeft);}
centeredSlideLeft+=_slideSize/2+ nextSlideSize/2;}
else{if(_slideSize>containerSize){for(var j=0;j<=Math.floor(_slideSize/containerSize);j++){_this.snapGrid.push(slideLeft+containerSize*j);}}
else{_this.snapGrid.push(slideLeft);}
_this.slidesGrid.push(slideLeft);}
slideLeft+=_slideSize;slidesWidth+=slideWidth;slidesHeight+=slideHeight;}
if(params.calculateHeight)_this.height=slideMaxHeight;if(isH){wrapperSize=slidesWidth+ _this.wrapperRight+ _this.wrapperLeft;wrapper.style.width=(slidesWidth)+'px';wrapper.style.height=(_this.height)+'px';}
else{wrapperSize=slidesHeight+ _this.wrapperTop+ _this.wrapperBottom;wrapper.style.width=(_this.width)+'px';wrapper.style.height=(slidesHeight)+'px';}}
else if(params.scrollContainer){wrapper.style.width='';wrapper.style.height='';var wrapperWidth=_this.slides[0].getWidth(true);var wrapperHeight=_this.slides[0].getHeight(true);wrapperSize=isH?wrapperWidth:wrapperHeight;wrapper.style.width=wrapperWidth+'px';wrapper.style.height=wrapperHeight+'px';slideSize=isH?wrapperWidth:wrapperHeight;}
else{if(params.calculateHeight){var slideMaxHeight=0;var wrapperHeight=0;if(!isH)_this.container.style.height='';wrapper.style.height='';for(var i=0;i<_this.slides.length;i++){_this.slides[i].style.height='';slideMaxHeight=Math.max(_this.slides[i].getHeight(true),slideMaxHeight);if(!isH)wrapperHeight+=_this.slides[i].getHeight(true);}
var slideHeight=slideMaxHeight;_this.height=slideHeight;if(isH)wrapperHeight=slideHeight;else containerSize=slideHeight,_this.container.style.height=containerSize+'px';}
else{var slideHeight=isH?_this.height:_this.height/params.slidesPerView;var wrapperHeight=isH?_this.height:_this.slides.length*slideHeight;}
var slideWidth=isH?_this.width/params.slidesPerView:_this.width;var wrapperWidth=isH?_this.slides.length*slideWidth:_this.width;slideSize=isH?slideWidth:slideHeight;if(params.offsetSlidesBefore>0){if(isH)_this.wrapperLeft=slideSize*params.offsetSlidesBefore;else _this.wrapperTop=slideSize*params.offsetSlidesBefore;}
if(params.offsetSlidesAfter>0){if(isH)_this.wrapperRight=slideSize*params.offsetSlidesAfter;else _this.wrapperBottom=slideSize*params.offsetSlidesAfter;}
if(params.offsetPxBefore>0){if(isH)_this.wrapperLeft=params.offsetPxBefore;else _this.wrapperTop=params.offsetPxBefore;}
if(params.offsetPxAfter>0){if(isH)_this.wrapperRight=params.offsetPxAfter;else _this.wrapperBottom=params.offsetPxAfter;}
if(params.centeredSlides){if(isH){_this.wrapperLeft=(containerSize- slideSize)/2;
_this.wrapperRight=(containerSize- slideSize)/2;
}
else{_this.wrapperTop=(containerSize- slideSize)/2;
_this.wrapperBottom=(containerSize- slideSize)/2;
}}
if(isH){if(_this.wrapperLeft>0)wrapper.style.paddingLeft=_this.wrapperLeft+'px';if(_this.wrapperRight>0)wrapper.style.paddingRight=_this.wrapperRight+'px';}
else{if(_this.wrapperTop>0)wrapper.style.paddingTop=_this.wrapperTop+'px';if(_this.wrapperBottom>0)wrapper.style.paddingBottom=_this.wrapperBottom+'px';}
wrapperSize=isH?wrapperWidth+ _this.wrapperRight+ _this.wrapperLeft:wrapperHeight+ _this.wrapperTop+ _this.wrapperBottom;if(!params.cssWidthAndHeight){if(parseFloat(wrapperWidth)>0){wrapper.style.width=wrapperWidth+'px';}
if(parseFloat(wrapperHeight)>0){wrapper.style.height=wrapperHeight+'px';}}
var slideLeft=0;_this.snapGrid=[];_this.slidesGrid=[];for(var i=0;i<_this.slides.length;i++){_this.snapGrid.push(slideLeft);_this.slidesGrid.push(slideLeft);slideLeft+=slideSize;if(!params.cssWidthAndHeight){if(parseFloat(slideWidth)>0){_this.slides[i].style.width=slideWidth+'px';}
if(parseFloat(slideHeight)>0){_this.slides[i].style.height=slideHeight+'px';}}}}
if(!_this.initialized){_this.callPlugins('onFirstInit');if(params.onFirstInit)_this.fireCallback(params.onFirstInit,_this);}
else{_this.callPlugins('onInit');if(params.onInit)_this.fireCallback(params.onInit,_this);}
_this.initialized=true;}
_this.reInit=function(forceCalcSlides){_this.init(true,forceCalcSlides);}
_this.resizeFix=function(reInit){_this.callPlugins('beforeResizeFix');_this.init(params.resizeReInit||reInit);if(!params.freeMode){_this.swipeTo((params.loop?_this.activeLoopIndex:_this.activeIndex),0,false);}
else if(_this.getWrapperTranslate()<-maxWrapperPosition()){_this.setWrapperTransition(0);_this.setWrapperTranslate(-maxWrapperPosition());}
_this.callPlugins('afterResizeFix');}
function maxWrapperPosition(){var a=(wrapperSize- containerSize);if(params.freeMode){a=wrapperSize- containerSize;}
if(params.slidesPerView>_this.slides.length)a=0;if(a<0)a=0;return a;}
function minWrapperPosition(){var a=0;return a;}
function initEvents(){var bind=_this.h.addEventListener;var eventTarget=params.eventTarget=='wrapper'?_this.wrapper:_this.container;if(!(_this.browser.ie10||_this.browser.ie11)){if(_this.support.touch){bind(eventTarget,'touchstart',onTouchStart);bind(eventTarget,'touchmove',onTouchMove);bind(eventTarget,'touchend',onTouchEnd);}
if(params.simulateTouch){bind(eventTarget,'mousedown',onTouchStart);bind(document,'mousemove',onTouchMove);bind(document,'mouseup',onTouchEnd);}}
else{bind(eventTarget,_this.touchEvents.touchStart,onTouchStart);bind(document,_this.touchEvents.touchMove,onTouchMove);bind(document,_this.touchEvents.touchEnd,onTouchEnd);}
if(params.autoResize){bind(window,'resize',_this.resizeFix);}
addSlideEvents();_this._wheelEvent=false;if(params.mousewheelControl){if(document.onmousewheel!==undefined){_this._wheelEvent="mousewheel";}
try{WheelEvent("wheel");_this._wheelEvent="wheel";}catch(e){}
if(!_this._wheelEvent){_this._wheelEvent="DOMMouseScroll";}
if(_this._wheelEvent){bind(_this.container,_this._wheelEvent,handleMousewheel);}}
if(params.keyboardControl){bind(document,'keydown',handleKeyboardKeys);}
if(params.updateOnImagesReady){_this.imagesToLoad=$$('img',_this.container);for(var i=0;i<_this.imagesToLoad.length;i++){_loadImage(_this.imagesToLoad[i].getAttribute('src'))}}
function _loadImage(src){var image=new Image();image.onload=function(){_this.imagesLoaded++;if(_this.imagesLoaded==_this.imagesToLoad.length){_this.reInit();if(params.onImagesReady)_this.fireCallback(params.onImagesReady,_this);}}
image.src=src;}}
_this.destroy=function(){var unbind=_this.h.removeEventListener;var eventTarget=params.eventTarget=='wrapper'?_this.wrapper:_this.container;if(!(_this.browser.ie10||_this.browser.ie11)){if(_this.support.touch){unbind(eventTarget,'touchstart',onTouchStart);unbind(eventTarget,'touchmove',onTouchMove);unbind(eventTarget,'touchend',onTouchEnd);}
if(params.simulateTouch){unbind(eventTarget,'mousedown',onTouchStart);unbind(document,'mousemove',onTouchMove);unbind(document,'mouseup',onTouchEnd);}}
else{unbind(eventTarget,_this.touchEvents.touchStart,onTouchStart);unbind(document,_this.touchEvents.touchMove,onTouchMove);unbind(document,_this.touchEvents.touchEnd,onTouchEnd);}
if(params.autoResize){unbind(window,'resize',_this.resizeFix);}
removeSlideEvents();if(params.paginationClickable){removePaginationEvents();}
if(params.mousewheelControl&&_this._wheelEvent){unbind(_this.container,_this._wheelEvent,handleMousewheel);}
if(params.keyboardControl){unbind(document,'keydown',handleKeyboardKeys);}
if(params.autoplay){_this.stopAutoplay();}
_this.callPlugins('onDestroy');_this=null;}
function addSlideEvents(){var bind=_this.h.addEventListener,i;if(params.preventLinks){var links=$$('a',_this.container);for(i=0;i<links.length;i++){bind(links[i],'click',preventClick);}}
if(params.releaseFormElements){var formElements=$$('input, textarea, select',_this.container);for(i=0;i<formElements.length;i++){bind(formElements[i],_this.touchEvents.touchStart,releaseForms,true);}}
if(params.onSlideClick){for(i=0;i<_this.slides.length;i++){bind(_this.slides[i],'click',slideClick);}}
if(params.onSlideTouch){for(i=0;i<_this.slides.length;i++){bind(_this.slides[i],_this.touchEvents.touchStart,slideTouch);}}}
function removeSlideEvents(){var unbind=_this.h.removeEventListener,i;if(params.onSlideClick){for(i=0;i<_this.slides.length;i++){unbind(_this.slides[i],'click',slideClick);}}
if(params.onSlideTouch){for(i=0;i<_this.slides.length;i++){unbind(_this.slides[i],_this.touchEvents.touchStart,slideTouch);}}
if(params.releaseFormElements){var formElements=$$('input, textarea, select',_this.container);for(i=0;i<formElements.length;i++){unbind(formElements[i],_this.touchEvents.touchStart,releaseForms,true);}}
if(params.preventLinks){var links=$$('a',_this.container);for(i=0;i<links.length;i++){unbind(links[i],'click',preventClick);}}}
function handleKeyboardKeys(e){var kc=e.keyCode||e.charCode;if(kc==37||kc==39||kc==38||kc==40){var inView=false;var swiperOffset=_this.h.getOffset(_this.container);var scrollLeft=_this.h.windowScroll().left;var scrollTop=_this.h.windowScroll().top;var windowWidth=_this.h.windowWidth();var windowHeight=_this.h.windowHeight();var swiperCoord=[[swiperOffset.left,swiperOffset.top],[swiperOffset.left+ _this.width,swiperOffset.top],[swiperOffset.left,swiperOffset.top+ _this.height],[swiperOffset.left+ _this.width,swiperOffset.top+ _this.height]]
for(var i=0;i<swiperCoord.length;i++){var point=swiperCoord[i];if(point[0]>=scrollLeft&&point[0]<=scrollLeft+windowWidth&&point[1]>=scrollTop&&point[1]<=scrollTop+windowHeight){inView=true;}}
if(!inView)return;}
if(isH){if(kc==37||kc==39){if(e.preventDefault)e.preventDefault();else e.returnValue=false;}
if(kc==39)_this.swipeNext();if(kc==37)_this.swipePrev();}
else{if(kc==38||kc==40){if(e.preventDefault)e.preventDefault();else e.returnValue=false;}
if(kc==40)_this.swipeNext();if(kc==38)_this.swipePrev();}}
var lastScrollTime=(new Date()).getTime();function handleMousewheel(e){var we=_this._wheelEvent;var delta=0;if(e.detail)delta=-e.detail;else if(we=='mousewheel'){if(params.mousewheelControlForceToAxis){if(isH){if(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY))delta=e.wheelDeltaX;else return;}
else{if(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX))delta=e.wheelDeltaY;else return;}}
else{delta=e.wheelDelta;}}
else if(we=='DOMMouseScroll')delta=-e.detail;else if(we=='wheel'){if(params.mousewheelControlForceToAxis){if(isH){if(Math.abs(e.deltaX)>Math.abs(e.deltaY))delta=-e.deltaX;else return;}
else{if(Math.abs(e.deltaY)>Math.abs(e.deltaX))delta=-e.deltaY;else return;}}
else{delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?- e.deltaX:- e.deltaY;}}
if(!params.freeMode){if((new Date()).getTime()- lastScrollTime>60){if(delta<0)_this.swipeNext();else _this.swipePrev();}
lastScrollTime=(new Date()).getTime();}
else{var position=_this.getWrapperTranslate()+ delta;if(position>0)position=0;if(position<-maxWrapperPosition())position=-maxWrapperPosition();_this.setWrapperTransition(0);_this.setWrapperTranslate(position);_this.updateActiveSlide(position);if(position==0||position==-maxWrapperPosition())return;}
if(params.autoplay)_this.stopAutoplay(true);if(e.preventDefault)e.preventDefault();else e.returnValue=false;return false;}
if(params.grabCursor){var containerStyle=_this.container.style;containerStyle.cursor='move';containerStyle.cursor='grab';containerStyle.cursor='-moz-grab';containerStyle.cursor='-webkit-grab';}
_this.allowSlideClick=true;function slideClick(event){if(_this.allowSlideClick){setClickedSlide(event);_this.fireCallback(params.onSlideClick,_this,event);}}
function slideTouch(event){setClickedSlide(event);_this.fireCallback(params.onSlideTouch,_this,event);}
function setClickedSlide(event){if(!event.currentTarget){var element=event.srcElement;do{if(element.className.indexOf(params.slideClass)>-1){break;}}
while(element=element.parentNode);_this.clickedSlide=element;}
else{_this.clickedSlide=event.currentTarget;}
_this.clickedSlideIndex=_this.slides.indexOf(_this.clickedSlide);_this.clickedSlideLoopIndex=_this.clickedSlideIndex-(_this.loopedSlides||0);}
_this.allowLinks=true;function preventClick(e){if(!_this.allowLinks){if(e.preventDefault)e.preventDefault();else e.returnValue=false;return false;}}
function releaseForms(e){if(e.stopPropagation)e.stopPropagation();else e.returnValue=false;return false;}
var isTouchEvent=false;var allowThresholdMove;var allowMomentumBounce=true;function onTouchStart(event){if(params.preventLinks)_this.allowLinks=true;if(_this.isTouched||params.onlyExternal){return false;}
if(params.noSwiping&&(event.target||event.srcElement)&&noSwipingSlide(event.target||event.srcElement))return false;allowMomentumBounce=false;thresholdFirstMove=false;_this.isTouched=true;isTouchEvent=event.type=='touchstart';if(!isTouchEvent||event.targetTouches.length==1){_this.callPlugins('onTouchStartBegin');if(!isTouchEvent){if(event.preventDefault)event.preventDefault();else event.returnValue=false;}
var pageX=isTouchEvent?event.targetTouches[0].pageX:(event.pageX||event.clientX);var pageY=isTouchEvent?event.targetTouches[0].pageY:(event.pageY||event.clientY);_this.touches.startX=_this.touches.currentX=pageX;_this.touches.startY=_this.touches.currentY=pageY;_this.touches.start=_this.touches.current=isH?pageX:pageY;_this.setWrapperTransition(0);_this.positions.start=_this.positions.current=_this.getWrapperTranslate();_this.setWrapperTranslate(_this.positions.start);_this.times.start=(new Date()).getTime();isScrolling=undefined;if(params.moveStartThreshold>0){allowThresholdMove=false;}
if(params.onTouchStart)_this.fireCallback(params.onTouchStart,_this);_this.callPlugins('onTouchStartEnd');}}
var velocityPrevPosition,velocityPrevTime;function onTouchMove(event){if(!_this.isTouched||params.onlyExternal)return;if(isTouchEvent&&event.type=='mousemove')return;var pageX=isTouchEvent?event.targetTouches[0].pageX:(event.pageX||event.clientX);var pageY=isTouchEvent?event.targetTouches[0].pageY:(event.pageY||event.clientY);if(typeof isScrolling==='undefined'&&isH){isScrolling=!!(isScrolling||Math.abs(pageY- _this.touches.startY)>Math.abs(pageX- _this.touches.startX));}
if(typeof isScrolling==='undefined'&&!isH){isScrolling=!!(isScrolling||Math.abs(pageY- _this.touches.startY)<Math.abs(pageX- _this.touches.startX));}
if(isScrolling){_this.isTouched=false;return;}
if(event.assignedToSwiper){_this.isTouched=false;return;}
event.assignedToSwiper=true;if(params.preventLinks){_this.allowLinks=false;}
if(params.onSlideClick){_this.allowSlideClick=false;}
if(params.autoplay){_this.stopAutoplay(true);}
if(!isTouchEvent||event.touches.length==1){if(!_this.isMoved){_this.callPlugins('onTouchMoveStart');if(params.loop){_this.fixLoop();_this.positions.start=_this.getWrapperTranslate();}
if(params.onTouchMoveStart)_this.fireCallback(params.onTouchMoveStart,_this);}
_this.isMoved=true;if(event.preventDefault)event.preventDefault();else event.returnValue=false;_this.touches.current=isH?pageX:pageY;_this.positions.current=(_this.touches.current- _this.touches.start)*params.touchRatio+ _this.positions.start;if(_this.positions.current>0&&params.onResistanceBefore){_this.fireCallback(params.onResistanceBefore,_this,_this.positions.current);}
if(_this.positions.current<-maxWrapperPosition()&&params.onResistanceAfter){_this.fireCallback(params.onResistanceAfter,_this,Math.abs(_this.positions.current+ maxWrapperPosition()));}
if(params.resistance&&params.resistance!='100%'){if(_this.positions.current>0){var resistance=1- _this.positions.current/containerSize/2;if(resistance<0.5)
_this.positions.current=(containerSize/2);else
_this.positions.current=_this.positions.current*resistance;}
if(_this.positions.current<-maxWrapperPosition()){var diff=(_this.touches.current- _this.touches.start)*params.touchRatio+(maxWrapperPosition()+_this.positions.start);var resistance=(containerSize+diff)/(containerSize);
var newPos=_this.positions.current-diff*(1-resistance)/2;
var stopPos=-maxWrapperPosition()- containerSize/2;if(newPos<stopPos||resistance<=0)
_this.positions.current=stopPos;else
_this.positions.current=newPos;}}
if(params.resistance&&params.resistance=='100%'){if(_this.positions.current>0&&!(params.freeMode&&!params.freeModeFluid)){_this.positions.current=0;}
if((_this.positions.current)<-maxWrapperPosition()&&!(params.freeMode&&!params.freeModeFluid)){_this.positions.current=-maxWrapperPosition();}}
if(!params.followFinger)return;if(!params.moveStartThreshold){_this.setWrapperTranslate(_this.positions.current);}
else{if(Math.abs(_this.touches.current- _this.touches.start)>params.moveStartThreshold||allowThresholdMove){if(!allowThresholdMove){allowThresholdMove=true;_this.touches.start=_this.touches.current;return}
_this.setWrapperTranslate(_this.positions.current);}
else{_this.positions.current=_this.positions.start;}}
if(params.freeMode||params.watchActiveIndex){_this.updateActiveSlide(_this.positions.current);}
if(params.grabCursor){_this.container.style.cursor='move';_this.container.style.cursor='grabbing';_this.container.style.cursor='-moz-grabbin';_this.container.style.cursor='-webkit-grabbing';}
if(!velocityPrevPosition)velocityPrevPosition=_this.touches.current;if(!velocityPrevTime)velocityPrevTime=(new Date).getTime();_this.velocity=(_this.touches.current- velocityPrevPosition)/((new Date).getTime() - velocityPrevTime)/2;
if(Math.abs(_this.touches.current- velocityPrevPosition)<2)_this.velocity=0;velocityPrevPosition=_this.touches.current;velocityPrevTime=(new Date).getTime();_this.callPlugins('onTouchMoveEnd');if(params.onTouchMove)_this.fireCallback(params.onTouchMove,_this);return false;}}
function onTouchEnd(event){if(isScrolling){_this.swipeReset();}
if(params.onlyExternal||!_this.isTouched)return;_this.isTouched=false
if(params.grabCursor){_this.container.style.cursor='move';_this.container.style.cursor='grab';_this.container.style.cursor='-moz-grab';_this.container.style.cursor='-webkit-grab';}
if(!_this.positions.current&&_this.positions.current!==0){_this.positions.current=_this.positions.start}
if(params.followFinger){_this.setWrapperTranslate(_this.positions.current);}
_this.times.end=(new Date()).getTime();_this.touches.diff=_this.touches.current- _this.touches.start
_this.touches.abs=Math.abs(_this.touches.diff)
_this.positions.diff=_this.positions.current- _this.positions.start
_this.positions.abs=Math.abs(_this.positions.diff)
var diff=_this.positions.diff;var diffAbs=_this.positions.abs;var timeDiff=_this.times.end- _this.times.start
if(diffAbs<5&&(timeDiff)<300&&_this.allowLinks==false){if(!params.freeMode&&diffAbs!=0)_this.swipeReset()
if(params.preventLinks){_this.allowLinks=true;}
if(params.onSlideClick){_this.allowSlideClick=true;}}
setTimeout(function(){if(params.preventLinks){_this.allowLinks=true;}
if(params.onSlideClick){_this.allowSlideClick=true;}},100);var maxPosition=maxWrapperPosition();if(!_this.isMoved&&params.freeMode){_this.isMoved=false;if(params.onTouchEnd)_this.fireCallback(params.onTouchEnd,_this);_this.callPlugins('onTouchEnd');return;}
if(!_this.isMoved||_this.positions.current>0||_this.positions.current<-maxPosition){_this.swipeReset();if(params.onTouchEnd)_this.fireCallback(params.onTouchEnd,_this);_this.callPlugins('onTouchEnd');return;}
_this.isMoved=false;if(params.freeMode){if(params.freeModeFluid){var momentumDuration=1000*params.momentumRatio;var momentumDistance=_this.velocity*momentumDuration;var newPosition=_this.positions.current+ momentumDistance
var doBounce=false;var afterBouncePosition;var bounceAmount=Math.abs(_this.velocity)*20*params.momentumBounceRatio;if(newPosition<-maxPosition){if(params.momentumBounce&&_this.support.transitions){if(newPosition+ maxPosition<-bounceAmount)newPosition=-maxPosition-bounceAmount;afterBouncePosition=-maxPosition;doBounce=true;allowMomentumBounce=true;}
else newPosition=-maxPosition;}
if(newPosition>0){if(params.momentumBounce&&_this.support.transitions){if(newPosition>bounceAmount)newPosition=bounceAmount;afterBouncePosition=0
doBounce=true;allowMomentumBounce=true;}
else newPosition=0;}
if(_this.velocity!=0)momentumDuration=Math.abs((newPosition- _this.positions.current)/_this.velocity)
_this.setWrapperTranslate(newPosition);_this.setWrapperTransition(momentumDuration);if(params.momentumBounce&&doBounce){_this.wrapperTransitionEnd(function(){if(!allowMomentumBounce)return;if(params.onMomentumBounce)_this.fireCallback(params.onMomentumBounce,_this);_this.callPlugins('onMomentumBounce');_this.setWrapperTranslate(afterBouncePosition);_this.setWrapperTransition(300);})}
_this.updateActiveSlide(newPosition)}
if(!params.freeModeFluid||timeDiff>=300)_this.updateActiveSlide(_this.positions.current)
if(params.onTouchEnd)_this.fireCallback(params.onTouchEnd,_this);_this.callPlugins('onTouchEnd');return;}
direction=diff<0?"toNext":"toPrev"
if(direction=="toNext"&&(timeDiff<=300)){if(diffAbs<30||!params.shortSwipes)_this.swipeReset()
else _this.swipeNext(true);}
if(direction=="toPrev"&&(timeDiff<=300)){if(diffAbs<30||!params.shortSwipes)_this.swipeReset()
else _this.swipePrev(true);}
var targetSlideSize=0;if(params.slidesPerView=='auto'){var currentPosition=Math.abs(_this.getWrapperTranslate());var slidesOffset=0;var _slideSize;for(var i=0;i<_this.slides.length;i++){_slideSize=isH?_this.slides[i].getWidth(true):_this.slides[i].getHeight(true);slidesOffset+=_slideSize;if(slidesOffset>currentPosition){targetSlideSize=_slideSize;break;}}
if(targetSlideSize>containerSize)targetSlideSize=containerSize;}
else{targetSlideSize=slideSize*params.slidesPerView;}
if(direction=="toNext"&&(timeDiff>300)){if(diffAbs>=targetSlideSize*0.5){_this.swipeNext(true)}
else{_this.swipeReset()}}
if(direction=="toPrev"&&(timeDiff>300)){if(diffAbs>=targetSlideSize*0.5){_this.swipePrev(true);}
else{_this.swipeReset()}}
if(params.onTouchEnd)_this.fireCallback(params.onTouchEnd,_this);_this.callPlugins('onTouchEnd');}
function noSwipingSlide(el){var noSwiping=false;do{if(el.className.indexOf(params.noSwipingClass)>-1)
{noSwiping=true;}
el=el.parentElement;}while(!noSwiping&&el.parentElement&&el.className.indexOf(params.wrapperClass)==-1);if(!noSwiping&&el.className.indexOf(params.wrapperClass)>-1&&el.className.indexOf(params.noSwipingClass)>-1)
noSwiping=true;return noSwiping;}
_this.swipeNext=function(internal){if(!internal&&params.loop)_this.fixLoop();if(!internal&&params.autoplay)_this.stopAutoplay(true);_this.callPlugins('onSwipeNext');var currentPosition=_this.getWrapperTranslate();var newPosition=currentPosition;if(params.slidesPerView=='auto'){for(var i=0;i<_this.snapGrid.length;i++){if(-currentPosition>=_this.snapGrid[i]&&-currentPosition<_this.snapGrid[i+1]){newPosition=-_this.snapGrid[i+1]
break;}}}
else{var groupSize=slideSize*params.slidesPerGroup;newPosition=-(Math.floor(Math.abs(currentPosition)/Math.floor(groupSize))*groupSize + groupSize);
}
if(newPosition<- maxWrapperPosition()){newPosition=- maxWrapperPosition()};if(newPosition==currentPosition)return false;swipeToPosition(newPosition,'next');return true}
_this.swipePrev=function(internal){if(!internal&&params.loop)_this.fixLoop();if(!internal&&params.autoplay)_this.stopAutoplay(true);_this.callPlugins('onSwipePrev');var currentPosition=Math.ceil(_this.getWrapperTranslate());var newPosition;if(params.slidesPerView=='auto'){newPosition=0;for(var i=1;i<_this.snapGrid.length;i++){if(-currentPosition==_this.snapGrid[i]){newPosition=-_this.snapGrid[i-1]
break;}
if(-currentPosition>_this.snapGrid[i]&&-currentPosition<_this.snapGrid[i+1]){newPosition=-_this.snapGrid[i]
break;}}}
else{var groupSize=slideSize*params.slidesPerGroup;newPosition=-(Math.ceil(-currentPosition/groupSize)-1)*groupSize;}
if(newPosition>0)newPosition=0;if(newPosition==currentPosition)return false;swipeToPosition(newPosition,'prev');return true;}
_this.swipeReset=function(){_this.callPlugins('onSwipeReset');var currentPosition=_this.getWrapperTranslate();var groupSize=slideSize*params.slidesPerGroup;var newPosition;var maxPosition=-maxWrapperPosition();if(params.slidesPerView=='auto'){newPosition=0;for(var i=0;i<_this.snapGrid.length;i++){if(-currentPosition===_this.snapGrid[i])return;if(-currentPosition>=_this.snapGrid[i]&&-currentPosition<_this.snapGrid[i+1]){if(_this.positions.diff>0)newPosition=-_this.snapGrid[i+1]
else newPosition=-_this.snapGrid[i]
break;}}
if(-currentPosition>=_this.snapGrid[_this.snapGrid.length-1])newPosition=-_this.snapGrid[_this.snapGrid.length-1];if(currentPosition<=-maxWrapperPosition())newPosition=-maxWrapperPosition()}
else{newPosition=currentPosition<0?Math.round(currentPosition/groupSize)*groupSize:0}
if(params.scrollContainer){newPosition=currentPosition<0?currentPosition:0;}
if(newPosition<-maxWrapperPosition()){newPosition=-maxWrapperPosition()}
if(params.scrollContainer&&(containerSize>slideSize)){newPosition=0;}
if(newPosition==currentPosition)return false;swipeToPosition(newPosition,'reset');return true;}
_this.swipeTo=function(index,speed,runCallbacks){index=parseInt(index,10);_this.callPlugins('onSwipeTo',{index:index,speed:speed});if(params.loop)index=index+ _this.loopedSlides;var currentPosition=_this.getWrapperTranslate();if(index>(_this.slides.length-1)||index<0)return;var newPosition
if(params.slidesPerView=='auto'){newPosition=-_this.slidesGrid[index];}
else{newPosition=-index*slideSize;}
if(newPosition<- maxWrapperPosition()){newPosition=- maxWrapperPosition();};if(newPosition==currentPosition)return false;runCallbacks=runCallbacks===false?false:true;swipeToPosition(newPosition,'to',{index:index,speed:speed,runCallbacks:runCallbacks});return true;}
function swipeToPosition(newPosition,action,toOptions){var speed=(action=='to'&&toOptions.speed>=0)?toOptions.speed:params.speed;var timeOld=+ new Date();if(_this.support.transitions||!params.DOMAnimation){_this.setWrapperTranslate(newPosition);_this.setWrapperTransition(speed);}
else{var currentPosition=_this.getWrapperTranslate();var animationStep=Math.ceil((newPosition- currentPosition)/speed*(1000/60) );
var direction=currentPosition>newPosition?'toNext':'toPrev';var condition=direction=='toNext'?currentPosition>newPosition:currentPosition<newPosition;if(_this._DOMAnimating)return;anim();}
function anim(){var timeNew=+ new Date();var time=timeNew- timeOld;currentPosition+=animationStep*time/(1000/60);condition=direction=='toNext'?currentPosition>newPosition:currentPosition<newPosition;if(condition){_this.setWrapperTranslate(Math.round(currentPosition));_this._DOMAnimating=true
window.setTimeout(function(){anim()},1000/60)}
else{if(params.onSlideChangeEnd)_this.fireCallback(params.onSlideChangeEnd,_this);_this.setWrapperTranslate(newPosition);_this._DOMAnimating=false;}}
_this.updateActiveSlide(newPosition);if(params.onSlideNext&&action=='next'){_this.fireCallback(params.onSlideNext,_this,newPosition);}
if(params.onSlidePrev&&action=='prev'){_this.fireCallback(params.onSlidePrev,_this,newPosition);}
if(params.onSlideReset&&action=='reset'){_this.fireCallback(params.onSlideReset,_this,newPosition);}
if(action=='next'||action=='prev'||(action=='to'&&toOptions.runCallbacks==true))
slideChangeCallbacks(action);}
_this._queueStartCallbacks=false;_this._queueEndCallbacks=false;function slideChangeCallbacks(direction){_this.callPlugins('onSlideChangeStart');if(params.onSlideChangeStart){if(params.queueStartCallbacks&&_this.support.transitions){if(_this._queueStartCallbacks)return;_this._queueStartCallbacks=true;_this.fireCallback(params.onSlideChangeStart,_this,direction)
_this.wrapperTransitionEnd(function(){_this._queueStartCallbacks=false;})}
else _this.fireCallback(params.onSlideChangeStart,_this,direction)}
if(params.onSlideChangeEnd){if(_this.support.transitions){if(params.queueEndCallbacks){if(_this._queueEndCallbacks)return;_this._queueEndCallbacks=true;_this.wrapperTransitionEnd(function(swiper){_this.fireCallback(params.onSlideChangeEnd,swiper,direction)})}
else _this.wrapperTransitionEnd(function(swiper){_this.fireCallback(params.onSlideChangeEnd,swiper,direction)})}
else{if(!params.DOMAnimation){setTimeout(function(){_this.fireCallback(params.onSlideChangeEnd,_this,direction)},10)}}}}
_this.updateActiveSlide=function(position){if(!_this.initialized)return;if(_this.slides.length==0)return;_this.previousIndex=_this.activeIndex;if(typeof position=='undefined')position=_this.getWrapperTranslate();if(position>0)position=0;if(params.slidesPerView=='auto'){var slidesOffset=0;_this.activeIndex=_this.slidesGrid.indexOf(-position);if(_this.activeIndex<0){for(var i=0;i<_this.slidesGrid.length-1;i++){if(-position>_this.slidesGrid[i]&&-position<_this.slidesGrid[i+1]){break;}}
var leftDistance=Math.abs(_this.slidesGrid[i]+ position)
var rightDistance=Math.abs(_this.slidesGrid[i+1]+ position)
if(leftDistance<=rightDistance)_this.activeIndex=i;else _this.activeIndex=i+1;}}
else{_this.activeIndex=Math[params.visibilityFullFit?'ceil':'round'](-position/slideSize);}
if(_this.activeIndex==_this.slides.length)_this.activeIndex=_this.slides.length- 1;if(_this.activeIndex<0)_this.activeIndex=0;if(!_this.slides[_this.activeIndex])return;_this.calcVisibleSlides(position);var activeClassRegexp=new RegExp("\\s*"+ params.slideActiveClass);var inViewClassRegexp=new RegExp("\\s*"+ params.slideVisibleClass);for(var i=0;i<_this.slides.length;i++){_this.slides[i].className=_this.slides[i].className.replace(activeClassRegexp,'').replace(inViewClassRegexp,'');if(_this.visibleSlides.indexOf(_this.slides[i])>=0){_this.slides[i].className+=' '+ params.slideVisibleClass;}}
_this.slides[_this.activeIndex].className+=' '+ params.slideActiveClass;if(params.loop){var ls=_this.loopedSlides;_this.activeLoopIndex=_this.activeIndex- ls;if(_this.activeLoopIndex>=_this.slides.length- ls*2){_this.activeLoopIndex=_this.slides.length- ls*2- _this.activeLoopIndex;}
if(_this.activeLoopIndex<0){_this.activeLoopIndex=_this.slides.length- ls*2+ _this.activeLoopIndex;}}
else{_this.activeLoopIndex=_this.activeIndex;}
if(params.pagination){_this.updatePagination(position);}}
_this.createPagination=function(firstInit){if(params.paginationClickable&&_this.paginationButtons){removePaginationEvents();}
_this.paginationContainer=params.pagination.nodeType?params.pagination:$$(params.pagination)[0];if(params.createPagination){var paginationHTML="";var numOfSlides=_this.slides.length;var numOfButtons=numOfSlides;if(params.loop)numOfButtons-=_this.loopedSlides*2
for(var i=0;i<numOfButtons;i++){paginationHTML+='<'+params.paginationElement+' class="'+params.paginationElementClass+'"></'+params.paginationElement+'>'}
_this.paginationContainer.innerHTML=paginationHTML;}
_this.paginationButtons=$$('.'+params.paginationElementClass,_this.paginationContainer);if(!firstInit)_this.updatePagination()
_this.callPlugins('onCreatePagination');if(params.paginationClickable){addPaginationEvents();}}
function removePaginationEvents(){var pagers=_this.paginationButtons;for(var i=0;i<pagers.length;i++){_this.h.removeEventListener(pagers[i],'click',paginationClick);}}
function addPaginationEvents(){var pagers=_this.paginationButtons;for(var i=0;i<pagers.length;i++){_this.h.addEventListener(pagers[i],'click',paginationClick);}}
function paginationClick(e){var index;var target=e.target||e.srcElement;var pagers=_this.paginationButtons;for(var i=0;i<pagers.length;i++){if(target===pagers[i])index=i;}
_this.swipeTo(index)}
_this.updatePagination=function(position){if(!params.pagination)return;if(_this.slides.length<1)return;var activePagers=$$('.'+params.paginationActiveClass,_this.paginationContainer);if(!activePagers)return;var pagers=_this.paginationButtons;if(pagers.length==0)return;for(var i=0;i<pagers.length;i++){pagers[i].className=params.paginationElementClass}
var indexOffset=params.loop?_this.loopedSlides:0;if(params.paginationAsRange){if(!_this.visibleSlides)_this.calcVisibleSlides(position)
var visibleIndexes=[];for(var i=0;i<_this.visibleSlides.length;i++){var visIndex=_this.slides.indexOf(_this.visibleSlides[i])- indexOffset
if(params.loop&&visIndex<0){visIndex=_this.slides.length- _this.loopedSlides*2+ visIndex;}
if(params.loop&&visIndex>=_this.slides.length-_this.loopedSlides*2){visIndex=_this.slides.length- _this.loopedSlides*2- visIndex;visIndex=Math.abs(visIndex)}
visibleIndexes.push(visIndex)}
for(i=0;i<visibleIndexes.length;i++){if(pagers[visibleIndexes[i]])pagers[visibleIndexes[i]].className+=' '+ params.paginationVisibleClass;}
if(params.loop){pagers[_this.activeLoopIndex].className+=' '+ params.paginationActiveClass;}
else{pagers[_this.activeIndex].className+=' '+ params.paginationActiveClass;}}
else{if(params.loop){pagers[_this.activeLoopIndex].className+=' '+params.paginationActiveClass+' '+params.paginationVisibleClass;}
else{pagers[_this.activeIndex].className+=' '+params.paginationActiveClass+' '+params.paginationVisibleClass;}}}
_this.calcVisibleSlides=function(position){var visibleSlides=[];var _slideLeft=0,_slideSize=0,_slideRight=0;if(isH&&_this.wrapperLeft>0)position=position+_this.wrapperLeft;if(!isH&&_this.wrapperTop>0)position=position+_this.wrapperTop;for(var i=0;i<_this.slides.length;i++){_slideLeft+=_slideSize;if(params.slidesPerView=='auto')
_slideSize=isH?_this.h.getWidth(_this.slides[i],true):_this.h.getHeight(_this.slides[i],true);else _slideSize=slideSize;_slideRight=_slideLeft+ _slideSize;var isVisibile=false;if(params.visibilityFullFit){if(_slideLeft>=-position&&_slideRight<=-position+containerSize)isVisibile=true;if(_slideLeft<=-position&&_slideRight>=-position+containerSize)isVisibile=true;}
else{if(_slideRight>-position&&_slideRight<=((-position+containerSize)))isVisibile=true;if(_slideLeft>=-position&&_slideLeft<((-position+containerSize)))isVisibile=true;if(_slideLeft<-position&&_slideRight>((-position+containerSize)))isVisibile=true;}
if(isVisibile)visibleSlides.push(_this.slides[i])}
if(visibleSlides.length==0)visibleSlides=[_this.slides[_this.activeIndex]]
_this.visibleSlides=visibleSlides;}
var autoplayTimeoutId=undefined;_this.startAutoplay=function(){if(typeof autoplayTimeoutId!=='undefined')return false;if(!params.autoplay)return;_this.callPlugins('onAutoplayStart');autoplay();}
_this.stopAutoplay=function(internal){if(!autoplayTimeoutId)return;if(autoplayTimeoutId)clearTimeout(autoplayTimeoutId);autoplayTimeoutId=undefined;if(internal&&!params.autoplayDisableOnInteraction){_this.wrapperTransitionEnd(function(){autoplay();})}
_this.callPlugins('onAutoplayStop');}
function autoplay(){autoplayTimeoutId=setTimeout(function(){if(params.loop){_this.fixLoop();_this.swipeNext(true);}
else if(!_this.swipeNext(true))_this.swipeTo(0);_this.wrapperTransitionEnd(function(){if(typeof autoplayTimeoutId!=='undefined')autoplay();})},params.autoplay)}
_this.loopCreated=false;_this.removeLoopedSlides=function(){if(_this.loopCreated){for(var i=0;i<_this.slides.length;i++){if(_this.slides[i].getData('looped')===true)_this.wrapper.removeChild(_this.slides[i]);}}}
_this.createLoop=function(){if(_this.slides.length==0)return;if(params.slidesPerView=='auto'){_this.loopedSlides=params.loopedSlides||1;}
else{_this.loopedSlides=params.slidesPerView+ params.loopAdditionalSlides;}
if(_this.loopedSlides>_this.slides.length){_this.loopedSlides=_this.slides.length;}
var slideFirstHTML='',slideLastHTML='',i;var slidesSetFullHTML='';var numSlides=_this.slides.length;var fullSlideSets=Math.floor(_this.loopedSlides/numSlides);var remainderSlides=_this.loopedSlides%numSlides;for(i=0;i<(fullSlideSets*numSlides);i++){var j=i;if(i>=numSlides){var over=Math.floor(i/numSlides);j=i-(numSlides*over);}
slidesSetFullHTML+=_this.slides[j].outerHTML;}
for(i=0;i<remainderSlides;i++){slideLastHTML+=_this.slides[i].outerHTML;}
for(i=numSlides- remainderSlides;i<numSlides;i++){slideFirstHTML+=_this.slides[i].outerHTML;}
var slides=slideFirstHTML+ slidesSetFullHTML+ wrapper.innerHTML+ slidesSetFullHTML+ slideLastHTML;wrapper.innerHTML=slides;_this.loopCreated=true;_this.calcSlides();for(i=0;i<_this.slides.length;i++){if(i<_this.loopedSlides||i>=_this.slides.length-_this.loopedSlides)_this.slides[i].setData('looped',true);}
_this.callPlugins('onCreateLoop');}
_this.fixLoop=function(){var newIndex;if(_this.activeIndex<_this.loopedSlides){newIndex=_this.slides.length- _this.loopedSlides*3+ _this.activeIndex;_this.swipeTo(newIndex,0,false);}
else if(_this.activeIndex>_this.slides.length- params.slidesPerView*2){newIndex=-_this.slides.length+ _this.activeIndex+ _this.loopedSlides
_this.swipeTo(newIndex,0,false);}}
_this.loadSlides=function(){var slidesHTML='';_this.activeLoaderIndex=0;var slides=params.loader.slides;var slidesToLoad=params.loader.loadAllSlides?slides.length:params.slidesPerView*(1+params.loader.surroundGroups);for(var i=0;i<slidesToLoad;i++){if(params.loader.slidesHTMLType=='outer')slidesHTML+=slides[i];else{slidesHTML+='<'+params.slideElement+' class="'+params.slideClass+'" data-swiperindex="'+i+'">'+slides[i]+'</'+params.slideElement+'>';}}
_this.wrapper.innerHTML=slidesHTML;_this.calcSlides(true);if(!params.loader.loadAllSlides){_this.wrapperTransitionEnd(_this.reloadSlides,true);}}
_this.reloadSlides=function(){var slides=params.loader.slides;var newActiveIndex=parseInt(_this.activeSlide().data('swiperindex'),10)
if(newActiveIndex<0||newActiveIndex>slides.length-1)return
_this.activeLoaderIndex=newActiveIndex;var firstIndex=Math.max(0,newActiveIndex- params.slidesPerView*params.loader.surroundGroups)
var lastIndex=Math.min(newActiveIndex+params.slidesPerView*(1+params.loader.surroundGroups)-1,slides.length-1)
if(newActiveIndex>0){var newTransform=-slideSize*(newActiveIndex-firstIndex)
_this.setWrapperTranslate(newTransform);_this.setWrapperTransition(0);}
if(params.loader.logic==='reload'){_this.wrapper.innerHTML='';var slidesHTML='';for(var i=firstIndex;i<=lastIndex;i++){slidesHTML+=params.loader.slidesHTMLType=='outer'?slides[i]:'<'+params.slideElement+' class="'+params.slideClass+'" data-swiperindex="'+i+'">'+slides[i]+'</'+params.slideElement+'>';}
_this.wrapper.innerHTML=slidesHTML;}
else{var minExistIndex=1000;var maxExistIndex=0;for(var i=0;i<_this.slides.length;i++){var index=_this.slides[i].data('swiperindex');if(index<firstIndex||index>lastIndex){_this.wrapper.removeChild(_this.slides[i]);}
else{minExistIndex=Math.min(index,minExistIndex)
maxExistIndex=Math.max(index,maxExistIndex)}}
for(var i=firstIndex;i<=lastIndex;i++){if(i<minExistIndex){var newSlide=document.createElement(params.slideElement);newSlide.className=params.slideClass;newSlide.setAttribute('data-swiperindex',i);newSlide.innerHTML=slides[i];_this.wrapper.insertBefore(newSlide,_this.wrapper.firstChild);}
if(i>maxExistIndex){var newSlide=document.createElement(params.slideElement);newSlide.className=params.slideClass;newSlide.setAttribute('data-swiperindex',i);newSlide.innerHTML=slides[i];_this.wrapper.appendChild(newSlide);}}}
_this.reInit(true);}
function makeSwiper(){_this.calcSlides();if(params.loader.slides.length>0&&_this.slides.length==0){_this.loadSlides();}
if(params.loop){_this.createLoop();}
_this.init();initEvents();if(params.pagination){_this.createPagination(true);}
if(params.loop||params.initialSlide>0){_this.swipeTo(params.initialSlide,0,false);}
else{_this.updateActiveSlide(0);}
if(params.autoplay){_this.startAutoplay();}
_this.centerIndex=_this.activeIndex;if(params.onSwiperCreated)_this.fireCallback(params.onSwiperCreated,_this);_this.callPlugins('onSwiperCreated');}
makeSwiper();}
Swiper.prototype={plugins:{},wrapperTransitionEnd:function(callback,permanent){var a=this,el=a.wrapper,events=['webkitTransitionEnd','transitionend','oTransitionEnd','MSTransitionEnd','msTransitionEnd'],i;function fireCallBack(){callback(a);if(a.params.queueEndCallbacks)a._queueEndCallbacks=false;if(!permanent){for(i=0;i<events.length;i++){a.h.removeEventListener(el,events[i],fireCallBack);}}}
if(callback){for(i=0;i<events.length;i++){a.h.addEventListener(el,events[i],fireCallBack);}}},getWrapperTranslate:function(axis){var el=this.wrapper,matrix,curTransform,curStyle,transformMatrix;if(typeof axis=='undefined'){axis=this.params.mode=='horizontal'?'x':'y';}
if(this.support.transforms&&this.params.useCSS3Transforms){curStyle=window.getComputedStyle(el,null);if(window.WebKitCSSMatrix){transformMatrix=new WebKitCSSMatrix(curStyle.webkitTransform);}
else{transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");matrix=transformMatrix.toString().split(',');}
if(axis=='x'){if(window.WebKitCSSMatrix)
curTransform=transformMatrix.m41;else if(matrix.length==16)
curTransform=parseFloat(matrix[12]);else
curTransform=parseFloat(matrix[4]);}
if(axis=='y'){if(window.WebKitCSSMatrix)
curTransform=transformMatrix.m42;else if(matrix.length==16)
curTransform=parseFloat(matrix[13]);else
curTransform=parseFloat(matrix[5]);}}
else{if(axis=='x')curTransform=parseFloat(el.style.left,10)||0;if(axis=='y')curTransform=parseFloat(el.style.top,10)||0;}
return curTransform||0;},setWrapperTranslate:function(x,y,z){var es=this.wrapper.style,coords={x:0,y:0,z:0},translate;if(arguments.length==3){coords.x=x;coords.y=y;coords.z=z;}
else{if(typeof y=='undefined'){y=this.params.mode=='horizontal'?'x':'y';}
coords[y]=x;}
if(this.support.transforms&&this.params.useCSS3Transforms){translate=this.support.transforms3d?'translate3d('+ coords.x+'px, '+ coords.y+'px, '+ coords.z+'px)':'translate('+ coords.x+'px, '+ coords.y+'px)';es.webkitTransform=es.MsTransform=es.msTransform=es.MozTransform=es.OTransform=es.transform=translate;}
else{es.left=coords.x+'px';es.top=coords.y+'px';}
this.callPlugins('onSetWrapperTransform',coords);if(this.params.onSetWrapperTransform)this.fireCallback(this.params.onSetWrapperTransform,this,coords);},setWrapperTransition:function(duration){var es=this.wrapper.style;es.webkitTransitionDuration=es.MsTransitionDuration=es.msTransitionDuration=es.MozTransitionDuration=es.OTransitionDuration=es.transitionDuration=(duration/1000)+'s';this.callPlugins('onSetWrapperTransition',{duration:duration});if(this.params.onSetWrapperTransition)this.fireCallback(this.params.onSetWrapperTransition,this,duration);},h:{getWidth:function(el,outer){var width=window.getComputedStyle(el,null).getPropertyValue('width')
var returnWidth=parseFloat(width);if(isNaN(returnWidth)||width.indexOf('%')>0){returnWidth=el.offsetWidth- parseFloat(window.getComputedStyle(el,null).getPropertyValue('padding-left'))- parseFloat(window.getComputedStyle(el,null).getPropertyValue('padding-right'));}
if(outer)returnWidth+=parseFloat(window.getComputedStyle(el,null).getPropertyValue('padding-left'))+ parseFloat(window.getComputedStyle(el,null).getPropertyValue('padding-right'))
return returnWidth;},getHeight:function(el,outer){if(outer)return el.offsetHeight;var height=window.getComputedStyle(el,null).getPropertyValue('height')
var returnHeight=parseFloat(height);if(isNaN(returnHeight)||height.indexOf('%')>0){returnHeight=el.offsetHeight- parseFloat(window.getComputedStyle(el,null).getPropertyValue('padding-top'))- parseFloat(window.getComputedStyle(el,null).getPropertyValue('padding-bottom'));}
if(outer)returnHeight+=parseFloat(window.getComputedStyle(el,null).getPropertyValue('padding-top'))+ parseFloat(window.getComputedStyle(el,null).getPropertyValue('padding-bottom'))
return returnHeight;},getOffset:function(el){var box=el.getBoundingClientRect();var body=document.body;var clientTop=el.clientTop||body.clientTop||0;var clientLeft=el.clientLeft||body.clientLeft||0;var scrollTop=window.pageYOffset||el.scrollTop;var scrollLeft=window.pageXOffset||el.scrollLeft;if(document.documentElement&&!window.pageYOffset){scrollTop=document.documentElement.scrollTop;scrollLeft=document.documentElement.scrollLeft;}
return{top:box.top+ scrollTop- clientTop,left:box.left+ scrollLeft- clientLeft};},windowWidth:function(){if(window.innerWidth)return window.innerWidth
else if(document.documentElement&&document.documentElement.clientWidth)return document.documentElement.clientWidth;},windowHeight:function(){if(window.innerHeight)return window.innerHeight
else if(document.documentElement&&document.documentElement.clientHeight)return document.documentElement.clientHeight;},windowScroll:function(){var left=0,top=0;if(typeof pageYOffset!='undefined'){return{left:window.pageXOffset,top:window.pageYOffset}}
else if(document.documentElement){return{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}}},addEventListener:function(el,event,listener,useCapture){if(typeof useCapture=='undefined'){useCapture=false;}
if(el.addEventListener){el.addEventListener(event,listener,useCapture);}
else if(el.attachEvent){el.attachEvent('on'+ event,listener);}},removeEventListener:function(el,event,listener,useCapture){if(typeof useCapture=='undefined'){useCapture=false;}
if(el.removeEventListener){el.removeEventListener(event,listener,useCapture);}
else if(el.detachEvent){el.detachEvent('on'+ event,listener);}}},setTransform:function(el,transform){var es=el.style
es.webkitTransform=es.MsTransform=es.msTransform=es.MozTransform=es.OTransform=es.transform=transform},setTranslate:function(el,translate){var es=el.style
var pos={x:translate.x||0,y:translate.y||0,z:translate.z||0};var transformString=this.support.transforms3d?'translate3d('+(pos.x)+'px,'+(pos.y)+'px,'+(pos.z)+'px)':'translate('+(pos.x)+'px,'+(pos.y)+'px)';es.webkitTransform=es.MsTransform=es.msTransform=es.MozTransform=es.OTransform=es.transform=transformString;if(!this.support.transforms){es.left=pos.x+'px'
es.top=pos.y+'px'}},setTransition:function(el,duration){var es=el.style
es.webkitTransitionDuration=es.MsTransitionDuration=es.msTransitionDuration=es.MozTransitionDuration=es.OTransitionDuration=es.transitionDuration=duration+'ms';},support:{touch:(window.Modernizr&&Modernizr.touch===true)||(function(){return!!(("ontouchstart"in window)||window.DocumentTouch&&document instanceof DocumentTouch);})(),transforms3d:(window.Modernizr&&Modernizr.csstransforms3d===true)||(function(){var div=document.createElement('div').style;return("webkitPerspective"in div||"MozPerspective"in div||"OPerspective"in div||"MsPerspective"in div||"perspective"in div);})(),transforms:(window.Modernizr&&Modernizr.csstransforms===true)||(function(){var div=document.createElement('div').style;return('transform'in div||'WebkitTransform'in div||'MozTransform'in div||'msTransform'in div||'MsTransform'in div||'OTransform'in div);})(),transitions:(window.Modernizr&&Modernizr.csstransitions===true)||(function(){var div=document.createElement('div').style;return('transition'in div||'WebkitTransition'in div||'MozTransition'in div||'msTransition'in div||'MsTransition'in div||'OTransition'in div);})()},browser:{ie8:(function(){var rv=-1;if(navigator.appName=='Microsoft Internet Explorer'){var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");if(re.exec(ua)!=null)
rv=parseFloat(RegExp.$1);}
return rv!=-1&&rv<9;})(),ie10:window.navigator.msPointerEnabled,ie11:window.navigator.pointerEnabled}}
if(window.jQuery||window.Zepto){(function($){$.fn.swiper=function(params){var s=new Swiper($(this)[0],params)
$(this).data('swiper',s);return s;}})(window.jQuery||window.Zepto)}
if(typeof(module)!=='undefined')
{module.exports=Swiper;}
Swiper.prototype.plugins.tdFlow=function(swiper,params){if(!swiper.support.transforms3d)return;var slides,wrapperSize,slideSize,initialized;var isH=swiper.params.mode=='horizontal';if(!params)return;var defaults={rotate:50,stretch:0,depth:100,modifier:1,shadows:true}
params=params||{};for(var prop in defaults){if(!(prop in params)){params[prop]=defaults[prop]}}
function init(){initialized=true;slides=swiper.slides
for(var i=0;i<slides.length;i++){swiper.setTransition(slides[i],0)}
if(isH){wrapperSize=swiper.h.getWidth(swiper.wrapper);slideSize=wrapperSize/slides.length;for(var i=0;i<slides.length;i++){slides[i].swiperSlideOffset=slides[i].offsetLeft}}
else{wrapperSize=swiper.h.getHeight(swiper.wrapper);slideSize=wrapperSize/slides.length;for(var i=0;i<slides.length;i++){slides[i].swiperSlideOffset=slides[i].offsetTop}}}
function threeDSlides(transform){if(!initialized)return;var transform=transform||{x:0,y:0,z:0};var center=isH?-transform.x+swiper.width/2:-transform.y+swiper.height/2;var rotate=isH?params.rotate:-params.rotate;var translate=params.depth;for(var i=0;i<swiper.slides.length;i++){var slideOffset=swiper.slides[i].swiperSlideOffset
var offsetMultiplier=(center- slideOffset- slideSize/2)/slideSize*params.modifier;
var rotateY=isH?rotate*offsetMultiplier:0;var rotateX=isH?0:rotate*offsetMultiplier;var translateZ=-translate*Math.abs(offsetMultiplier);var translateY=isH?0:params.stretch*(offsetMultiplier)
var translateX=isH?params.stretch*(offsetMultiplier):0;if(Math.abs(translateX)<0.001)translateX=0;if(Math.abs(translateY)<0.001)translateY=0;if(Math.abs(translateZ)<0.001)translateZ=0;if(Math.abs(rotateY)<0.001)rotateY=0;if(Math.abs(rotateX)<0.001)rotateX=0;var slideTransform='translate3d('+translateX+'px,'+translateY+'px,'+translateZ+'px)  rotateX('+rotateX+'deg) rotateY('+rotateY+'deg)';swiper.setTransform(swiper.slides[i],slideTransform);swiper.slides[i].style.zIndex=-Math.abs(Math.round(offsetMultiplier))+1
if(params.shadows){var shadowBefore=isH?swiper.slides[i].querySelector('.swiper-slide-shadow-left'):swiper.slides[i].querySelector('.swiper-slide-shadow-top');var shadowAfter=isH?swiper.slides[i].querySelector('.swiper-slide-shadow-right'):swiper.slides[i].querySelector('.swiper-slide-shadow-bottom');shadowAfter.style.opacity=(-offsetMultiplier)>0?(-offsetMultiplier):0;shadowBefore.style.opacity=offsetMultiplier>0?offsetMultiplier:0;}}
if(swiper.browser.ie10||swiper.browser.ie11){var ws=swiper.wrapper.style;ws.perspectiveOrigin=center+'px 50%'}}
var hooks={onFirstInit:function(args){slides=swiper.slides;if(params.shadows){var shadowEl1=document.createElement('div')
var shadowEl2=document.createElement('div')
shadowEl1.className=isH?'swiper-slide-shadow-left':'swiper-slide-shadow-top'
shadowEl2.className=isH?'swiper-slide-shadow-right':'swiper-slide-shadow-bottom'
for(var i=0;i<slides.length;i++){slides[i].appendChild(shadowEl1.cloneNode())
slides[i].appendChild(shadowEl2.cloneNode())}}
init();threeDSlides({x:swiper.getWrapperTranslate('x'),y:swiper.getWrapperTranslate('y'),z:swiper.getWrapperTranslate('z')});},onInit:function(args){init();threeDSlides({x:swiper.getWrapperTranslate('x'),y:swiper.getWrapperTranslate('y'),z:swiper.getWrapperTranslate('z')});},onSetWrapperTransform:function(transform){threeDSlides(transform);},onSetWrapperTransition:function(args){for(var i=0;i<swiper.slides.length;i++){swiper.setTransition(swiper.slides[i],args.duration)
if(isH&&params.shadows){swiper.setTransition(swiper.slides[i].querySelector('.swiper-slide-shadow-left'),args.duration)
swiper.setTransition(swiper.slides[i].querySelector('.swiper-slide-shadow-right'),args.duration)}
else if(params.shadows){swiper.setTransition(swiper.slides[i].querySelector('.swiper-slide-shadow-top'),args.duration)
swiper.setTransition(swiper.slides[i].querySelector('.swiper-slide-shadow-bottom'),args.duration)}}}}
return hooks}
!function(){var a,AbstractChosen,Chosen,SelectParser,b,c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};SelectParser=function(){function SelectParser(){this.options_index=0,this.parsed=[]}return SelectParser.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},SelectParser.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),children:0,disabled:a.disabled}),f=a.childNodes,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},SelectParser.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},SelectParser.prototype.escapeExpression=function(a){var b,c;return null==a||a===!1?"":/[\&\<\>\"\'\`]/.test(a)?(b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/&(?!\w+;)|[\<\>\"\'\`]/g,a.replace(c,function(a){return b[a]||"&amp;"})):a},SelectParser}(),SelectParser.select_to_array=function(a){var b,c,d,e,f;for(c=new SelectParser,f=a.childNodes,d=0,e=f.length;e>d;d++)b=f[d],c.add_node(b);return c.parsed},AbstractChosen=function(){function AbstractChosen(a,b){this.form_field=a,this.options=null!=b?b:{},AbstractChosen.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return AbstractChosen.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},AbstractChosen.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text},AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=!0},AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=!1},AbstractChosen.prototype.input_focus=function(){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},AbstractChosen.prototype.input_blur=function(){var a=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return a.blur_test()},100))},AbstractChosen.prototype.results_option_build=function(a){var b,c,d,e,f;for(b="",f=this.results_data,d=0,e=f.length;e>d;d++)c=f[d],b+=c.group?this.result_add_group(c):this.result_add_option(c),(null!=a?a.first:void 0)&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(c.text));return b},AbstractChosen.prototype.result_add_option=function(a){var b,c;return a.search_match?this.include_option_in_results(a)?(b=[],a.disabled||a.selected&&this.is_multiple||b.push("active-result"),!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=""!==a.style.cssText?' style="'+a.style+'"':"",'<li class="'+b.join(" ")+'"'+c+' data-option-array-index="'+a.array_index+'">'+a.search_text+"</li>"):"":""},AbstractChosen.prototype.result_add_group=function(a){return a.search_match||a.group_match?a.active_options>0?'<li class="group-result">'+a.search_text+"</li>":"":""},AbstractChosen.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(),this.results_showing?this.winnow_results():void 0},AbstractChosen.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},AbstractChosen.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},AbstractChosen.prototype.winnow_results=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;for(this.no_results_clear(),e=0,g=this.get_search_text(),a=g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),d=this.search_contains?"":"^",c=new RegExp(d+a,"i"),j=new RegExp(a,"i"),m=this.results_data,k=0,l=m.length;l>k;k++)b=m[k],b.search_match=!1,f=null,this.include_option_in_results(b)&&(b.group&&(b.group_match=!1,b.active_options=0),null!=b.group_array_index&&this.results_data[b.group_array_index]&&(f=this.results_data[b.group_array_index],0===f.active_options&&f.search_match&&(e+=1),f.active_options+=1),(!b.group||this.group_search)&&(b.search_text=b.group?b.label:b.html,b.search_match=this.search_string_match(b.search_text,c),b.search_match&&!b.group&&(e+=1),b.search_match?(g.length&&(h=b.search_text.search(j),i=b.search_text.substr(0,h+g.length)+"</em>"+b.search_text.substr(h+g.length),b.search_text=i.substr(0,h)+"<em>"+i.substr(h)),null!=f&&(f.group_match=!0)):null!=b.group_array_index&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0)));return this.result_clear_highlight(),1>e&&g.length?(this.update_results_content(""),this.no_results(g)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},AbstractChosen.prototype.search_string_match=function(a,b){var c,d,e,f;if(b.test(a))return!0;if(this.enable_split_word_search&&(a.indexOf(" ")>=0||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" "),d.length))for(e=0,f=d.length;f>e;e++)if(c=d[e],b.test(c))return!0},AbstractChosen.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.form_field.options,b=0,c=d.length;c>b;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},AbstractChosen.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},AbstractChosen.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},AbstractChosen.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},AbstractChosen.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected?!1:!this.display_disabled_options&&a.disabled?!1:a.empty?!1:!0},AbstractChosen.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},AbstractChosen.default_multiple_text="Select Some Options",AbstractChosen.default_single_text="Select an Option",AbstractChosen.default_no_result_text="No results match",AbstractChosen}(),a=jQuery,a.fn.extend({chosen:function(b){return AbstractChosen.browser_is_supported()?this.each(function(){var c,d;c=a(this),d=c.data("chosen"),"destroy"===b&&d?d.destroy():d||c.data("chosen",new Chosen(this,b))}):this}}),Chosen=function(c){function Chosen(){return b=Chosen.__super__.constructor.apply(this,arguments)}return d(Chosen,c),Chosen.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},Chosen.prototype.set_up_html=function(){var b,c;return b=["chosen-container"],b.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chosen-rtl"),c={"class":b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(c.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",c),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},Chosen.prototype.register_observers=function(){var a=this;return this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)}),this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})},Chosen.prototype.destroy=function(){return a(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},Chosen.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},Chosen.prototype.container_mousedown=function(b){return this.is_disabled||(b&&"mousedown"===b.type&&!this.results_showing&&b.preventDefault(),null!=b&&a(b.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chosen-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},Chosen.prototype.container_mouseup=function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},Chosen.prototype.search_results_mousewheel=function(a){var b,c,d;return b=-(null!=(c=a.originalEvent)?c.wheelDelta:void 0)||(null!=(d=a.originialEvent)?d.detail:void 0),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b=40*b),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},Chosen.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},Chosen.prototype.close_field=function(){return a(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},Chosen.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},Chosen.prototype.test_active_click=function(b){return this.container.is(a(b.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},Chosen.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},Chosen.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(f>c)return this.search_results.scrollTop(c)}},Chosen.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},Chosen.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},Chosen.prototype.update_results_content=function(a){return this.search_results.html(a)},Chosen.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},Chosen.prototype.set_tab_index=function(){var a;return this.form_field.tabIndex?(a=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=a):void 0},Chosen.prototype.set_label_behavior=function(){var b=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()}):void 0},Chosen.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},Chosen.prototype.search_results_mouseup=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c.length?(this.result_highlight=c,this.result_select(b),this.search_field.focus()):void 0},Chosen.prototype.search_results_mouseover=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c?this.result_do_highlight(c):void 0},Chosen.prototype.search_results_mouseout=function(b){return a(b.target).hasClass("active-result")?this.result_clear_highlight():void 0},Chosen.prototype.choice_build=function(b){var c,d,e=this;return c=a("<li />",{"class":"search-choice"}).html("<span>"+b.html+"</span>"),b.disabled?c.addClass("search-choice-disabled"):(d=a("<a />",{"class":"search-choice-close","data-option-array-index":b.array_index}),d.bind("click.chosen",function(a){return e.choice_destroy_link_click(a)}),c.append(d)),this.search_container.before(c)},Chosen.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),b.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(a(b.target))},Chosen.prototype.choice_destroy=function(a){return this.result_deselect(a[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()):void 0},Chosen.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},Chosen.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},Chosen.prototype.result_select=function(a){var b,c,d;return this.result_highlight?(b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):(this.result_single_selected&&(this.result_single_selected.removeClass("result-selected"),d=this.result_single_selected[0].getAttribute("data-option-array-index"),this.results_data[d].selected=!1),this.result_single_selected=b),b.addClass("result-selected"),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(c):this.single_set_selected_text(c.text),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[c.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},Chosen.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(a)},Chosen.prototype.result_deselect=function(a){var b;return b=this.results_data[a],this.form_field.options[b.options_index].disabled?!1:(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),!0)},Chosen.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},Chosen.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html()},Chosen.prototype.winnow_results_set_highlight=function(){var a,b;return b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first(),null!=a?this.result_do_highlight(a):void 0},Chosen.prototype.no_results=function(b){var c;return c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c)},Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},Chosen.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},Chosen.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},Chosen.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},Chosen.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},Chosen.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},Chosen.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){for(d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],i=0,j=g.length;j>i;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";return b=a("<div />",{style:f}),b.text(this.search_field.val()),a("body").append(b),h=b.width()+25,b.remove(),c=this.container.outerWidth(),h>c-10&&(h=c-10),this.search_field.css({width:h+"px"})}},Chosen}(AbstractChosen)}.call(this);